{"ast":null,"code":"import _slicedToArray from\"D:/PROJECTS/react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AlarmUpdate(props){// console.log(\"왔다\", props.upData);\nvar hour=Number(props.upData.hour);var min=Number(props.upData.min);var _useState=useState(props.upData.memo),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];// const [values, setValues] = useState(null);\n// const [hour, setHour] = useState(0);\n// const [min, setMin] = useState(0);\n// useEffect(() => {\n// \tconsole.log(\"세팅\", values, hour, min);\n// \tfetch(`http://localhost:3001/alarm/${props.upData.id}`, {\n// \t}).then((res) => res.json())\n// \t\t.then((data) => {\n// \t\t\tsetValues(data.memo);\n// \t\t\tsetHour(data.hour);\n// \t\t\tsetMin(data.min);\n// \t\t});\n// }, []);\nvar selectHour=[];for(var i=0;i<24;i++){selectHour.push(/*#__PURE__*/_jsx(\"option\",{value:i,children:i},i));//아이디와 i가 같다면 selected 설정\n// \tif (hour === i) {\n// \t\tlistTime.push(\n// \t\t\t<option key={i} defaultValue selected>{i}</option>\n// \t\t)\n// \t} else {\n// \t\tlistTime.push(\n// \t\t\t<option key={i} value={i}>{i}</option>\n// \t\t)\n// \t}\n}var selectMin=[];for(var _i=0;_i<60;_i++){selectMin.push(/*#__PURE__*/_jsx(\"option\",{value:_i,children:_i},_i));//아이디와 i가 같다면 selected 설정\n// if (min === i) {\n// \tlistMinute.push(\n// \t\t<option key={i} defaultValue selected>{i}</option>\n// \t)\n// } else {\n// \tlistMinute.push(\n// \t\t<option key={i} value={i}>{i}</option>\n// \t)\n// }\n}function changeEvent(e){setValues(e.target.value);}function submit(event){if(window.confirm(\"수정하시겠습니까?\")){var date=new Date();var thisHour=date.getHours();var thisMin=date.getMinutes();var memo=event.target.memo.value;var selTime=event.target.time.value;var selMinute=event.target.minute.value;var over=false;if(Number(thisHour)<Number(selTime)){over=false;}else if(Number(thisHour)===Number(selTime)&&Number(thisMin)<Number(selMinute)){over=false;}else{over=true;}fetch(\"http://localhost:3001/alarm/\".concat(props.upData.id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({memo:memo,hour:selTime,min:selMinute,over:over})}).then(function(){window.alert(\"수정하였습니다. \");props.goRead();}).catch(function(){window.alert(\"에러가 발생했습니다. 다시 시도해주십시오.\");});}else{}}return/*#__PURE__*/_jsxs(\"section\",{id:\"alarmUpdation\",className:\"formContainer\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"kr\",children:\"\\uC2DC\\uAC04\\uACFC \\uB0B4\\uC6A9\\uC744 \\uC124\\uC815\\uD574\\uC8FC\\uC138\\uC694.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){event.preventDefault();submit(event);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"selectBox\",children:[/*#__PURE__*/_jsx(\"select\",{name:\"time\",defaultValue:hour,children:selectHour}),/*#__PURE__*/_jsx(\"span\",{children:\" : \"}),/*#__PURE__*/_jsx(\"select\",{name:\"minute\",defaultValue:min,children:selectMin})]}),/*#__PURE__*/_jsx(\"div\",{className:\"memoBox\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"memo\",onChange:changeEvent,placeholder:\"\\uB0B4\\uC6A9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",value:values,maxLength:\"16\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(event){event.preventDefault();props.goRead();},children:\"BACK\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"EDIT\"})]})]});}export default AlarmUpdate;","map":{"version":3,"names":["React","useState","AlarmUpdate","props","hour","Number","upData","min","memo","values","setValues","selectHour","i","push","selectMin","changeEvent","e","target","value","submit","event","window","confirm","date","Date","thisHour","getHours","thisMin","getMinutes","selTime","time","selMinute","minute","over","fetch","id","method","headers","body","JSON","stringify","then","alert","goRead","catch","preventDefault"],"sources":["D:/PROJECTS/react-app/src/pages/AlarmUpdate.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nfunction AlarmUpdate(props) {\r\n    // console.log(\"왔다\", props.upData);\r\n    const hour = Number(props.upData.hour);\r\n    const min = Number(props.upData.min);\r\n    const [values, setValues] = useState(props.upData.memo);\r\n    // const [values, setValues] = useState(null);\r\n    // const [hour, setHour] = useState(0);\r\n    // const [min, setMin] = useState(0);\r\n\r\n\r\n    // useEffect(() => {\r\n    // \tconsole.log(\"세팅\", values, hour, min);\r\n    // \tfetch(`http://localhost:3001/alarm/${props.upData.id}`, {\r\n    // \t}).then((res) => res.json())\r\n    // \t\t.then((data) => {\r\n    // \t\t\tsetValues(data.memo);\r\n    // \t\t\tsetHour(data.hour);\r\n    // \t\t\tsetMin(data.min);\r\n    // \t\t});\r\n    // }, []);\r\n\r\n    const selectHour = [];\r\n    for (let i = 0; i < 24; i++) {\r\n        selectHour.push(\r\n            <option key={i} value={i}>{i}</option>\r\n        )\r\n        //아이디와 i가 같다면 selected 설정\r\n        // \tif (hour === i) {\r\n        // \t\tlistTime.push(\r\n        // \t\t\t<option key={i} defaultValue selected>{i}</option>\r\n        // \t\t)\r\n        // \t} else {\r\n        // \t\tlistTime.push(\r\n        // \t\t\t<option key={i} value={i}>{i}</option>\r\n        // \t\t)\r\n        // \t}\r\n    }\r\n    const selectMin = [];\r\n    for (let i = 0; i < 60; i++) {\r\n        selectMin.push(\r\n            <option key={i} value={i}>{i}</option>\r\n        )\r\n        //아이디와 i가 같다면 selected 설정\r\n        // if (min === i) {\r\n        // \tlistMinute.push(\r\n        // \t\t<option key={i} defaultValue selected>{i}</option>\r\n        // \t)\r\n        // } else {\r\n        // \tlistMinute.push(\r\n        // \t\t<option key={i} value={i}>{i}</option>\r\n        // \t)\r\n        // }\r\n    }\r\n    function changeEvent(e) {\r\n        setValues(e.target.value);\r\n    }\r\n\r\n    function submit(event) {\r\n        if (window.confirm(\"수정하시겠습니까?\")) {\r\n            const date = new Date();\r\n            const thisHour = date.getHours();\r\n            const thisMin = date.getMinutes();\r\n\r\n            const memo = event.target.memo.value;\r\n            const selTime = event.target.time.value;\r\n            const selMinute = event.target.minute.value;\r\n\r\n            let over = false;\r\n            if (Number(thisHour) < Number(selTime)) {\r\n                over = false;\r\n            } else if (Number(thisHour) === Number(selTime) && Number(thisMin) < Number(selMinute)) {\r\n                over = false;\r\n            } else {\r\n                over = true;\r\n            }\r\n            fetch(`http://localhost:3001/alarm/${props.upData.id}`, {\r\n                method: \"PUT\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify({\r\n                    memo: memo,\r\n                    hour: selTime,\r\n                    min: selMinute,\r\n                    over: over\r\n                }),\r\n            }).then(() => { window.alert(\"수정하였습니다. \"); props.goRead(); })\r\n                .catch(() => { window.alert(\"에러가 발생했습니다. 다시 시도해주십시오.\"); })\r\n\r\n        } else { }\r\n    }\r\n\r\n    return (\r\n        <section id=\"alarmUpdation\" className='formContainer'>\r\n            <h4 className='kr'>시간과 내용을 설정해주세요.</h4>\r\n            <form onSubmit={(event) => { event.preventDefault(); submit(event); }}>\r\n                <div className=\"selectBox\">\r\n                    <select name=\"time\" defaultValue={hour}>\r\n                        {selectHour}\r\n                    </select>\r\n                    <span> : </span>\r\n                    <select name=\"minute\" defaultValue={min}>\r\n                        {selectMin}\r\n                    </select>\r\n                </div>\r\n                <div className=\"memoBox\">\r\n                    <input type=\"text\" name=\"memo\" onChange={changeEvent} placeholder='내용을 입력하세요.' value={values} maxLength=\"16\"></input>\r\n                </div>\r\n                <button type=\"button\" onClick={(event) => {\r\n                    event.preventDefault();\r\n                    props.goRead();\r\n                }}>BACK</button>\r\n                <button type=\"submit\">EDIT</button>\r\n            </form >\r\n        </section >\r\n    )\r\n}\r\n\r\nexport default AlarmUpdate"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}